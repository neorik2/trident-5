if not game:IsLoaded() then
	game.Loaded:Wait()
end;

local statuslist = {};
statuslist.fallensurvival = {
	name 		= 'Fallen Survival';
	status 		= 'Undetected';
	support 	= {'Zenith'; 'Swift'; 'Wave'; 'Potassium_'; 'Volcano_'; };
};
statuslist.tridentsurvival = {
	name 		= 'Trident Survival';
	status 		= 'Use at own risk';
	support 	= {'Wave'; 'AWP'; 'MacSploit'; 'Velocity'; 'Potassium'; 'Seliware'; };
};

if (type(loadstring) ~= 'function') then
	return protectedMessagebox(`missing alias ( loadstring ) - unsupported executor`, `amongus.hook [{executor}]`, 48);
elseif (type(request) ~= 'function') then
	return protectedMessagebox(`missing alias ( request ) - unsupported executor`, `amongus.hook [{executor}]`, 48);
elseif (not Drawing) then
	protectedLoad('https://raw.githubusercontent.com/mainstreamed/amongus-hook/refs/heads/main/drawingfix.lua');
end;
	
local placeid = game.PlaceId;
local dir = 'https://raw.githubusercontent.com/mainstreamed/amongus-hook/main/';

local load = function(name)
	local game = statuslist[name];
	if (game.status ~= 'Undetected' and protectedMessagebox(`{game.name} is Currently Marked as {game.status}!\n\nAre You Sure You Want to Continue?`, `amongus.hook`, 52) ~= 6) then
		return;
	elseif (
		game.support and 
		not table.find(game.support, executor) and 
		protectedMessagebox(`Unsupported Executor!\n\n{executor} is not Officially Supported for {game.name}\nand may have Undefined Behaviour or even result in a BAN!\n\nAre You Sure You Want to Continue?`, `amongus.hook [{executor}]`, 52) ~= 6
	) then
		return;
	end;
	protectedLoad(`{dir}{name}/main.lua`);
end;

if (placeid == 13253735473) then
	return load('tridentsurvival');
elseif (placeid == 13800717766 or placeid == 15479377118 or placeid == 16849012343) then
    return load('fallensurvival');
end;
protectedMessagebox(`This Game is Unsupported!\n\nIf you believe this is incorrect, please open a ticket in our discord! - discord.gg/2jycAcKvdw`, `amongus.hook [{placeid}]`, 48);
